<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>uv - 下一代 Python 包管理工具 | skippy's life</title><meta name="author" content="skippy"><meta name="copyright" content="skippy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="体验一下刚上线的 cloude 4.0  什么是 uv？uv 是一个由 Astral 团队开发的现代化 Python 包管理工具，使用 Rust 编写，旨在成为 pip、pip-tools、pipx、poetry、pyenv、twine、virtualenv 等工具的一站式替代方案。它的设计目标是提供极快的性能、简洁的用户体验，以及与现有 Python 生态系统的完美兼容性。 为什么选择 uv？">
<meta property="og:type" content="article">
<meta property="og:title" content="uv - 下一代 Python 包管理工具">
<meta property="og:url" content="http://example.com/2025/05/23/uv/index.html">
<meta property="og:site_name" content="skippy&#39;s life">
<meta property="og:description" content="体验一下刚上线的 cloude 4.0  什么是 uv？uv 是一个由 Astral 团队开发的现代化 Python 包管理工具，使用 Rust 编写，旨在成为 pip、pip-tools、pipx、poetry、pyenv、twine、virtualenv 等工具的一站式替代方案。它的设计目标是提供极快的性能、简洁的用户体验，以及与现有 Python 生态系统的完美兼容性。 为什么选择 uv？">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/wangfei.jpg">
<meta property="article:published_time" content="2025-05-23T13:05:10.000Z">
<meta property="article:modified_time" content="2025-05-23T13:08:04.894Z">
<meta property="article:author" content="skippy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/wangfei.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "uv - 下一代 Python 包管理工具",
  "url": "http://example.com/2025/05/23/uv/",
  "image": "http://example.com/img/wangfei.jpg",
  "datePublished": "2025-05-23T13:05:10.000Z",
  "dateModified": "2025-05-23T13:08:04.894Z",
  "author": [
    {
      "@type": "Person",
      "name": "skippy",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/wangfei.jpg"><link rel="canonical" href="http://example.com/2025/05/23/uv/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'uv - 下一代 Python 包管理工具',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/aplayer.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/timego.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/wangfei.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-timeline"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/movies"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/aboutme/"><i class="fa-fw fas fa-user"></i><span> About me</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/timego.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">skippy's life</span></a><a class="nav-page-title" href="/"><span class="site-name">uv - 下一代 Python 包管理工具</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-timeline"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/movies"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/aboutme/"><i class="fa-fw fas fa-user"></i><span> About me</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">uv - 下一代 Python 包管理工具</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-23T13:05:10.000Z" title="发表于 2025-05-23 21:05:10">2025-05-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-23T13:08:04.894Z" title="更新于 2025-05-23 21:08:04">2025-05-23</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>5分钟</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p>体验一下刚上线的 cloude 4.0</p>
</blockquote>
<h2 id="什么是-uv？"><a href="#什么是-uv？" class="headerlink" title="什么是 uv？"></a>什么是 uv？</h2><p>uv 是一个由 Astral 团队开发的现代化 Python 包管理工具，使用 Rust 编写，旨在成为 pip、pip-tools、pipx、poetry、pyenv、twine、virtualenv 等工具的一站式替代方案。它的设计目标是提供极快的性能、简洁的用户体验，以及与现有 Python 生态系统的完美兼容性。</p>
<h2 id="为什么选择-uv？"><a href="#为什么选择-uv？" class="headerlink" title="为什么选择 uv？"></a>为什么选择 uv？</h2><h3 id="🚀-极致性能"><a href="#🚀-极致性能" class="headerlink" title="🚀 极致性能"></a>🚀 极致性能</h3><ul>
<li><strong>10-100倍</strong> 比 pip 和 pip-tools 更快的依赖解析速度</li>
<li>使用 Rust 编写，天然的高性能优势</li>
<li>并行下载和安装，充分利用系统资源</li>
</ul>
<h3 id="🎯-简单易用"><a href="#🎯-简单易用" class="headerlink" title="🎯 简单易用"></a>🎯 简单易用</h3><ul>
<li>一个工具解决所有 Python 包管理需求</li>
<li>与现有工具兼容，无需修改现有工作流</li>
<li>直观的命令行界面</li>
</ul>
<h3 id="🔧-功能完整"><a href="#🔧-功能完整" class="headerlink" title="🔧 功能完整"></a>🔧 功能完整</h3><ul>
<li>包安装和管理</li>
<li>虚拟环境创建和管理</li>
<li>项目依赖管理</li>
<li>Python 版本管理</li>
<li>包发布功能</li>
</ul>
<h2 id="安装-uv"><a href="#安装-uv" class="headerlink" title="安装 uv"></a>安装 uv</h2><h3 id="macOS-和-Linux"><a href="#macOS-和-Linux" class="headerlink" title="macOS 和 Linux"></a>macOS 和 Linux</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LsSf https://astral.sh/uv/install.sh | sh</span><br></pre></td></tr></table></figure>

<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powershell <span class="literal">-c</span> <span class="string">&quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="使用-pip-安装"><a href="#使用-pip-安装" class="headerlink" title="使用 pip 安装"></a>使用 pip 安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uv</span><br></pre></td></tr></table></figure>

<h3 id="使用-Homebrew-macOS"><a href="#使用-Homebrew-macOS" class="headerlink" title="使用 Homebrew (macOS)"></a>使用 Homebrew (macOS)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install uv</span><br></pre></td></tr></table></figure>

<h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><h3 id="创建和管理虚拟环境"><a href="#创建和管理虚拟环境" class="headerlink" title="创建和管理虚拟环境"></a>创建和管理虚拟环境</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建虚拟环境</span></span><br><span class="line">uv venv</span><br><span class="line"></span><br><span class="line"><span class="comment"># 激活虚拟环境 (Linux/macOS)</span></span><br><span class="line"><span class="built_in">source</span> .venv/bin/activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 激活虚拟环境 (Windows)</span></span><br><span class="line">.venv\Scripts\activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建指定 Python 版本的虚拟环境</span></span><br><span class="line">uv venv --python 3.11</span><br></pre></td></tr></table></figure>

<h3 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装单个包</span></span><br><span class="line">uv pip install requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从 requirements.txt 安装</span></span><br><span class="line">uv pip install -r requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装开发依赖</span></span><br><span class="line">uv pip install -r requirements-dev.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同步依赖（类似 pip-sync）</span></span><br><span class="line">uv pip <span class="built_in">sync</span> requirements.txt</span><br></pre></td></tr></table></figure>

<h3 id="项目管理"><a href="#项目管理" class="headerlink" title="项目管理"></a>项目管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化新项目</span></span><br><span class="line">uv init my-project</span><br><span class="line"><span class="built_in">cd</span> my-project</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加依赖</span></span><br><span class="line">uv add requests</span><br><span class="line">uv add pytest --dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除依赖</span></span><br><span class="line">uv remove requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行脚本</span></span><br><span class="line">uv run script.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行命令</span></span><br><span class="line">uv run pytest</span><br></pre></td></tr></table></figure>

<h2 id="高级功能"><a href="#高级功能" class="headerlink" title="高级功能"></a>高级功能</h2><h3 id="Python-版本管理"><a href="#Python-版本管理" class="headerlink" title="Python 版本管理"></a>Python 版本管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出可用的 Python 版本</span></span><br><span class="line">uv python list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装特定 Python 版本</span></span><br><span class="line">uv python install 3.11</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用特定 Python 版本创建项目</span></span><br><span class="line">uv init --python 3.11 my-project</span><br></pre></td></tr></table></figure>

<h3 id="依赖锁定"><a href="#依赖锁定" class="headerlink" title="依赖锁定"></a>依赖锁定</h3><p>uv 自动生成 <code>uv.lock</code> 文件，确保跨环境的依赖一致性：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新锁定文件</span></span><br><span class="line">uv lock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从锁定文件安装</span></span><br><span class="line">uv <span class="built_in">sync</span></span><br></pre></td></tr></table></figure>

<h3 id="全局工具安装"><a href="#全局工具安装" class="headerlink" title="全局工具安装"></a>全局工具安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装全局工具</span></span><br><span class="line">uv tool install black</span><br><span class="line">uv tool install ruff</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行全局工具</span></span><br><span class="line">uv tool run black .</span><br><span class="line">uv tool run ruff check .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出已安装的工具</span></span><br><span class="line">uv tool list</span><br></pre></td></tr></table></figure>

<h2 id="性能对比"><a href="#性能对比" class="headerlink" title="性能对比"></a>性能对比</h2><p>根据官方基准测试，uv 在各种场景下都显著优于传统工具：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>pip</th>
<th>uv</th>
<th>性能提升</th>
</tr>
</thead>
<tbody><tr>
<td>安装 Django</td>
<td>1.5s</td>
<td>0.1s</td>
<td>15x</td>
</tr>
<tr>
<td>解析依赖</td>
<td>10s</td>
<td>0.5s</td>
<td>20x</td>
</tr>
<tr>
<td>创建虚拟环境</td>
<td>2s</td>
<td>0.1s</td>
<td>20x</td>
</tr>
</tbody></table>
<h2 id="迁移指南"><a href="#迁移指南" class="headerlink" title="迁移指南"></a>迁移指南</h2><h3 id="从-pip-pip-tools-迁移"><a href="#从-pip-pip-tools-迁移" class="headerlink" title="从 pip + pip-tools 迁移"></a>从 pip + pip-tools 迁移</h3><p>如果你现在使用 pip 和 pip-tools：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 替换 pip-compile</span></span><br><span class="line">uv pip compile requirements.in</span><br><span class="line"></span><br><span class="line"><span class="comment"># 替换 pip-sync</span></span><br><span class="line">uv pip <span class="built_in">sync</span> requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 替换 pip install</span></span><br><span class="line">uv pip install package-name</span><br></pre></td></tr></table></figure>

<h3 id="从-Poetry-迁移"><a href="#从-Poetry-迁移" class="headerlink" title="从 Poetry 迁移"></a>从 Poetry 迁移</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 pyproject.toml 转换为 uv 格式</span></span><br><span class="line">uv init --from-poetry</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line">uv <span class="built_in">sync</span></span><br></pre></td></tr></table></figure>

<h3 id="从-Pipenv-迁移"><a href="#从-Pipenv-迁移" class="headerlink" title="从 Pipenv 迁移"></a>从 Pipenv 迁移</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从 Pipfile 生成 requirements.txt</span></span><br><span class="line">pipenv requirements &gt; requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 uv 安装</span></span><br><span class="line">uv pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h2 id="配置和定制"><a href="#配置和定制" class="headerlink" title="配置和定制"></a>配置和定制</h2><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>uv 支持多种配置方式：</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pyproject.toml</span></span><br><span class="line"><span class="section">[tool.uv]</span></span><br><span class="line"><span class="attr">index-url</span> = <span class="string">&quot;https://pypi.org/simple&quot;</span></span><br><span class="line"><span class="attr">extra-index-url</span> = [<span class="string">&quot;https://my-custom-index.com/simple&quot;</span>]</span><br><span class="line"><span class="attr">trusted-host</span> = [<span class="string">&quot;my-custom-index.com&quot;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置索引 URL</span></span><br><span class="line"><span class="built_in">export</span> UV_INDEX_URL=<span class="string">&quot;https://pypi.org/simple&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置缓存目录</span></span><br><span class="line"><span class="built_in">export</span> UV_CACHE_DIR=<span class="string">&quot;/path/to/cache&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 禁用网络访问</span></span><br><span class="line"><span class="built_in">export</span> UV_OFFLINE=1</span><br></pre></td></tr></table></figure>

<h2 id="与-CI-CD-集成"><a href="#与-CI-CD-集成" class="headerlink" title="与 CI&#x2F;CD 集成"></a>与 CI&#x2F;CD 集成</h2><h3 id="GitHub-Actions"><a href="#GitHub-Actions" class="headerlink" title="GitHub Actions"></a>GitHub Actions</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>, <span class="string">pull_request</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">test:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">uv</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">astral-sh/setup-uv@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Set</span> <span class="string">up</span> <span class="string">Python</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">uv</span> <span class="string">python</span> <span class="string">install</span> <span class="number">3.11</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">uv</span> <span class="string">sync</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">tests</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">uv</span> <span class="string">run</span> <span class="string">pytest</span></span><br></pre></td></tr></table></figure>

<h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.11</span>-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 uv</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --from=ghcr.io/astral-sh/uv:latest /uv /usr/local/bin/uv</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制项目文件</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . /app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> uv <span class="built_in">sync</span> --frozen</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行应用</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;uv&quot;</span>, <span class="string">&quot;run&quot;</span>, <span class="string">&quot;python&quot;</span>, <span class="string">&quot;app.py&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<h2 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h2><h3 id="1-使用项目模式"><a href="#1-使用项目模式" class="headerlink" title="1. 使用项目模式"></a>1. 使用项目模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 始终在项目根目录初始化</span></span><br><span class="line">uv init .</span><br></pre></td></tr></table></figure>

<h3 id="2-锁定依赖版本"><a href="#2-锁定依赖版本" class="headerlink" title="2. 锁定依赖版本"></a>2. 锁定依赖版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定期更新锁定文件</span></span><br><span class="line">uv lock --upgrade</span><br></pre></td></tr></table></figure>

<h3 id="3-分离开发和生产依赖"><a href="#3-分离开发和生产依赖" class="headerlink" title="3. 分离开发和生产依赖"></a>3. 分离开发和生产依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加开发依赖</span></span><br><span class="line">uv add pytest --dev</span><br><span class="line">uv add black --dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生产环境只安装核心依赖</span></span><br><span class="line">uv <span class="built_in">sync</span> --no-dev</span><br></pre></td></tr></table></figure>

<h3 id="4-使用工具管理"><a href="#4-使用工具管理" class="headerlink" title="4. 使用工具管理"></a>4. 使用工具管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局安装常用工具</span></span><br><span class="line">uv tool install ruff</span><br><span class="line">uv tool install black</span><br><span class="line">uv tool install mypy</span><br></pre></td></tr></table></figure>

<h2 id="常见问题解答"><a href="#常见问题解答" class="headerlink" title="常见问题解答"></a>常见问题解答</h2><h3 id="Q-uv-与-pip-兼容吗？"><a href="#Q-uv-与-pip-兼容吗？" class="headerlink" title="Q: uv 与 pip 兼容吗？"></a>Q: uv 与 pip 兼容吗？</h3><p>A: 是的，uv 完全兼容 pip 的接口和 requirements.txt 格式。</p>
<h3 id="Q-可以在现有项目中使用-uv-吗？"><a href="#Q-可以在现有项目中使用-uv-吗？" class="headerlink" title="Q: 可以在现有项目中使用 uv 吗？"></a>Q: 可以在现有项目中使用 uv 吗？</h3><p>A: 当然可以，uv 可以无缝替换现有的 pip 工作流。</p>
<h3 id="Q-uv-支持私有仓库吗？"><a href="#Q-uv-支持私有仓库吗？" class="headerlink" title="Q: uv 支持私有仓库吗？"></a>Q: uv 支持私有仓库吗？</h3><p>A: 支持，可以通过配置自定义索引 URL 来使用私有仓库。</p>
<h3 id="Q-uv-的缓存在哪里？"><a href="#Q-uv-的缓存在哪里？" class="headerlink" title="Q: uv 的缓存在哪里？"></a>Q: uv 的缓存在哪里？</h3><p>A: 默认在 <code>~/.cache/uv</code>，可以通过环境变量 <code>UV_CACHE_DIR</code> 自定义。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>uv 代表了 Python 包管理工具的未来方向。它不仅提供了卓越的性能，还简化了 Python 开发者的日常工作流程。无论你是新手还是经验丰富的开发者，uv 都能帮你更高效地管理 Python 项目。</p>
<p>如果你还在使用传统的 pip 或其他包管理工具，强烈建议尝试 uv。它的速度和便利性会让你的开发体验焕然一新。</p>
<hr>
<p><em>想了解更多 uv 的使用技巧？访问 <a target="_blank" rel="noopener" href="https://docs.astral.sh/uv/">官方文档</a> 获取最新信息。</em></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">skippy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/05/23/uv/">http://example.com/2025/05/23/uv/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">skippy's life</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/wangfei.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/05/16/SpringAI/" title="SpringAI"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">SpringAI</div></div><div class="info-2"><div class="info-item-1">Spring AI 应用集成框架基于 Spring Boot 的大模型应用集成框架，作为后 Java 时代的关键一环，旨在简化大模型在应用中的集成与开发，撼动了 Python 语言在 AI 工程领域的主导地位。   核心特性 统一的 API 调用接口，支持多种大模型 基于 Spring Boot 自动配置，简化配置 提供PromptTemplate 和结构化提示管理 支持流式响应处理SpringAI 利用 AOP 原理提供 AI 会话流程的拦截和增强，实现 AroundAdvisors ，基于此可以方便管理对话日志，及上下文记忆。    快速开始基于 SpringBoot 快速上手体验 SpringAI 的便利功能。 环境准备 Java 17+ Spring Boot 3.0+ 大模型 api-key  引入依赖可以通过新建 Spring Boot 脚手架，自动引入 SpringAI 依赖：  也可以手动引入依赖： 1234567891011121314&lt;repositories&gt;    &lt;repository&gt;     ...</div></div></div></a><a class="pagination-related" href="/2025/05/23/MCP/" title="MCP"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">MCP</div></div><div class="info-2"><div class="info-item-1">Model Context Protocol 模型上下文协议。但却没有规定与模型如何进行交互，而是规定了 Host 和 Server 之间的交互，是让模型感知外部环境的协议，所以称为模型上下文协议，MCP规定了统一的工具发现和调用协议 MCP基础MCP 的用途简单来说，MCP 是能够让大模型更好地调用各类工具的协议，大模型只能进行问答而无法主动调用外部工具，而 MCP 的出现使大模型拥有了使用各种外部工具的能力，这是很重要的一个能力，我们熟悉的 Cursor 本身就是一个 MCP Host MCP server一个符合 MCP 协议的可执行程序，通常由 python 和 node.js 编写，可以本地使用可以联网使用，我们可以帮它们理解成一个一个工具，每个工具可以解决一个具体问题，例如查询天气、查询新闻、查看文件夹…    MCP 进阶分析明白这段日志,就能理解 MCP 协议的内容了 完整交互日志初始化连接客户端请求： 12345678910111213&#123;  &quot;method&quot;: &quot;initialize&quot;, ...</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/wangfei.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">skippy</div><div class="author-info-description">time will tell</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/skippy-404"><i class="fab fa-github"></i><span>follow me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/skippy-404" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:skippy1010177@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: ##47636e;"></i></a><a class="social-icon" href="/img/wx.jpg" target="_blank" title="WeChat"><i class="fab fa-weixin" style="color: #7bb342;"></i></a><a class="social-icon" href="https://music.163.com/#/user/home?id=1352685498" target="_blank" title="网易云音乐"><i class="fa fa-music" style="color: #181b25;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-uv%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">什么是 uv？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-uv%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">为什么选择 uv？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9A%80-%E6%9E%81%E8%87%B4%E6%80%A7%E8%83%BD"><span class="toc-number">2.1.</span> <span class="toc-text">🚀 极致性能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%AF-%E7%AE%80%E5%8D%95%E6%98%93%E7%94%A8"><span class="toc-number">2.2.</span> <span class="toc-text">🎯 简单易用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%A7-%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%95%B4"><span class="toc-number">2.3.</span> <span class="toc-text">🔧 功能完整</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-uv"><span class="toc-number">3.</span> <span class="toc-text">安装 uv</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#macOS-%E5%92%8C-Linux"><span class="toc-number">3.1.</span> <span class="toc-text">macOS 和 Linux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows"><span class="toc-number">3.2.</span> <span class="toc-text">Windows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-pip-%E5%AE%89%E8%A3%85"><span class="toc-number">3.3.</span> <span class="toc-text">使用 pip 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Homebrew-macOS"><span class="toc-number">3.4.</span> <span class="toc-text">使用 Homebrew (macOS)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">4.</span> <span class="toc-text">基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83"><span class="toc-number">4.1.</span> <span class="toc-text">创建和管理虚拟环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%8C%85"><span class="toc-number">4.2.</span> <span class="toc-text">安装包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86"><span class="toc-number">4.3.</span> <span class="toc-text">项目管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD"><span class="toc-number">5.</span> <span class="toc-text">高级功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Python-%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="toc-number">5.1.</span> <span class="toc-text">Python 版本管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E9%94%81%E5%AE%9A"><span class="toc-number">5.2.</span> <span class="toc-text">依赖锁定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85"><span class="toc-number">5.3.</span> <span class="toc-text">全局工具安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94"><span class="toc-number">6.</span> <span class="toc-text">性能对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%81%E7%A7%BB%E6%8C%87%E5%8D%97"><span class="toc-number">7.</span> <span class="toc-text">迁移指南</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E-pip-pip-tools-%E8%BF%81%E7%A7%BB"><span class="toc-number">7.1.</span> <span class="toc-text">从 pip + pip-tools 迁移</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E-Poetry-%E8%BF%81%E7%A7%BB"><span class="toc-number">7.2.</span> <span class="toc-text">从 Poetry 迁移</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E-Pipenv-%E8%BF%81%E7%A7%BB"><span class="toc-number">7.3.</span> <span class="toc-text">从 Pipenv 迁移</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%92%8C%E5%AE%9A%E5%88%B6"><span class="toc-number">8.</span> <span class="toc-text">配置和定制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">8.1.</span> <span class="toc-text">配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">8.2.</span> <span class="toc-text">环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E-CI-CD-%E9%9B%86%E6%88%90"><span class="toc-number">9.</span> <span class="toc-text">与 CI&#x2F;CD 集成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GitHub-Actions"><span class="toc-number">9.1.</span> <span class="toc-text">GitHub Actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker"><span class="toc-number">9.2.</span> <span class="toc-text">Docker</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">10.</span> <span class="toc-text">最佳实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8%E9%A1%B9%E7%9B%AE%E6%A8%A1%E5%BC%8F"><span class="toc-number">10.1.</span> <span class="toc-text">1. 使用项目模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%94%81%E5%AE%9A%E4%BE%9D%E8%B5%96%E7%89%88%E6%9C%AC"><span class="toc-number">10.2.</span> <span class="toc-text">2. 锁定依赖版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%86%E7%A6%BB%E5%BC%80%E5%8F%91%E5%92%8C%E7%94%9F%E4%BA%A7%E4%BE%9D%E8%B5%96"><span class="toc-number">10.3.</span> <span class="toc-text">3. 分离开发和生产依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%85%B7%E7%AE%A1%E7%90%86"><span class="toc-number">10.4.</span> <span class="toc-text">4. 使用工具管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94"><span class="toc-number">11.</span> <span class="toc-text">常见问题解答</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q-uv-%E4%B8%8E-pip-%E5%85%BC%E5%AE%B9%E5%90%97%EF%BC%9F"><span class="toc-number">11.1.</span> <span class="toc-text">Q: uv 与 pip 兼容吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q-%E5%8F%AF%E4%BB%A5%E5%9C%A8%E7%8E%B0%E6%9C%89%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8-uv-%E5%90%97%EF%BC%9F"><span class="toc-number">11.2.</span> <span class="toc-text">Q: 可以在现有项目中使用 uv 吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q-uv-%E6%94%AF%E6%8C%81%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E5%90%97%EF%BC%9F"><span class="toc-number">11.3.</span> <span class="toc-text">Q: uv 支持私有仓库吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q-uv-%E7%9A%84%E7%BC%93%E5%AD%98%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F"><span class="toc-number">11.4.</span> <span class="toc-text">Q: uv 的缓存在哪里？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">12.</span> <span class="toc-text">总结</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2025 By skippy</div><div class="footer_custom_text">喜中带忧 暗中有光 怎么度 怎么量</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://vercel.skippy.uno',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://vercel.skippy.uno',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.newestComments = {
  changeContent: content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g, "") // remove html tag

    if (content.length > 150) {
      content = content.substring(0, 150) + '...'
    }
    return content
  },

  generateHtml: (array, ele) => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class="aside-list-item">'

        if (true && array[i].avatar) {
          const imgAttr = 'src'
          const lazyloadNative = ''
          result += `<a href="${array[i].url}" class="thumbnail"><img ${imgAttr}="${array[i].avatar}" alt="${array[i].nick}" ${lazyloadNative}></a>`
        }

        result += `<div class="content">
        <a class="comment" href="${array[i].url}" title="${array[i].content}">${array[i].content}</a>
        <div class="name"><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '暂无评论'
    }

    ele.innerHTML = result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh(ele)
  },

  newestCommentInit: (name, getComment) => {
    const $dom = document.querySelector('#card-newest-comments .aside-list')
    if ($dom) {
      const data = btf.saveToLocal.get(name)
      if (data) {
        newestComments.generateHtml(JSON.parse(data), $dom)
      } else {
        getComment($dom)
      }
    }
  },

  run: (name, getComment) => {
    newestComments.newestCommentInit(name, getComment)
    btf.addGlobalFn('pjaxComplete', () => newestComments.newestCommentInit(name, getComment), name)
  }
}</script><script>window.addEventListener('load', () => {
  const keyName = 'twikoo-newest-comments'
  const { changeContent, generateHtml, run } = window.newestComments

  const getComment = ele => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://vercel.skippy.uno',
        region: '',
        pageSize: 1,
        includeReply: true
      }).then(res => {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        btf.saveToLocal.set(keyName, JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray, ele)
      }).catch(err => {
        console.error(err)
        ele.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  run(keyName, getComment)
})</script><script async data-pjax src="/js/anzhiyu.js"></script><script async data-pjax src="/js/anzhiyufunction.js"></script><script async src="/js/anzhiyuOnlyOne.js"></script><div class="aplayer no-destroy" data-id="12327206939" data-server="netease" data-type="playlist" data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>